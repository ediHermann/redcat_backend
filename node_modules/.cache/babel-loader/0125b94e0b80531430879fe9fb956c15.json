{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar getNumberOfRecursivePermissionsByAction = function getNumberOfRecursivePermissionsByAction(subject, action, attributeName, contentTypesPermissions) {\n  return Object.entries((0, _lodash.get)(contentTypesPermissions, [subject, 'attributes'], {})).reduce(function (acc, current) {\n    if (current[0].startsWith(attributeName) && current[1].actions.includes(action)) {\n      return acc + 1;\n    }\n\n    return acc;\n  }, 0);\n};\n\nvar _default = getNumberOfRecursivePermissionsByAction;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/webstorm_projects/redcat_backend/.cache/admin/src/components/Roles/Permissions/utils/getNumberOfRecursivePermissionsByAction.js"],"names":["getNumberOfRecursivePermissionsByAction","subject","action","attributeName","contentTypesPermissions","Object","entries","reduce","acc","current","startsWith","actions","includes"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,uCAAuC,GAAG,SAA1CA,uCAA0C,CAC9CC,OAD8C,EAE9CC,MAF8C,EAG9CC,aAH8C,EAI9CC,uBAJ8C,EAK3C;AACH,SAAOC,MAAM,CAACC,OAAP,CAAe,iBAAIF,uBAAJ,EAA6B,CAACH,OAAD,EAAU,YAAV,CAA7B,EAAsD,EAAtD,CAAf,EAA0EM,MAA1E,CACL,UAACC,GAAD,EAAMC,OAAN,EAAkB;AAChB,QAAIA,OAAO,CAAC,CAAD,CAAP,CAAWC,UAAX,CAAsBP,aAAtB,KAAwCM,OAAO,CAAC,CAAD,CAAP,CAAWE,OAAX,CAAmBC,QAAnB,CAA4BV,MAA5B,CAA5C,EAAiF;AAC/E,aAAOM,GAAG,GAAG,CAAb;AACD;;AAED,WAAOA,GAAP;AACD,GAPI,EAQL,CARK,CAAP;AAUD,CAhBD;;eAkBeR,uC","sourcesContent":["import { get } from 'lodash';\n\nconst getNumberOfRecursivePermissionsByAction = (\n  subject,\n  action,\n  attributeName,\n  contentTypesPermissions\n) => {\n  return Object.entries(get(contentTypesPermissions, [subject, 'attributes'], {})).reduce(\n    (acc, current) => {\n      if (current[0].startsWith(attributeName) && current[1].actions.includes(action)) {\n        return acc + 1;\n      }\n\n      return acc;\n    },\n    0\n  );\n};\n\nexport default getNumberOfRecursivePermissionsByAction;\n"]},"metadata":{},"sourceType":"script"}