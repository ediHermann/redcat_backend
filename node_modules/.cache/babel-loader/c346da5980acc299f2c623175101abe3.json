{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.initialState = exports[\"default\"] = void 0;\n\nvar _immer = _interopRequireDefault(require(\"immer\"));\n\nvar _package = _interopRequireDefault(require(\"../../../../package.json\"));\n\nvar _constants = require(\"./constants\");\n\n/*\n *\n * Admin reducer\n *\n */\nvar packageVersion = _package[\"default\"].version;\nvar initialState = {\n  appError: false,\n  isLoading: true,\n  latestStrapiReleaseTag: \"v\".concat(packageVersion),\n  shouldUpdateStrapi: false,\n  userPermissions: []\n};\nexports.initialState = initialState;\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return (// eslint-disable-next-line consistent-return\n    (0, _immer[\"default\"])(state, function (draftState) {\n      switch (action.type) {\n        case _constants.GET_STRAPI_LATEST_RELEASE_SUCCEEDED:\n          {\n            draftState.latestStrapiReleaseTag = action.latestStrapiReleaseTag;\n            draftState.shouldUpdateStrapi = action.shouldUpdateStrapi;\n            break;\n          }\n\n        case _constants.GET_USER_PERMISSIONS:\n          {\n            draftState.isLoading = true;\n            break;\n          }\n\n        case _constants.GET_USER_PERMISSIONS_ERROR:\n          {\n            draftState.error = action.error;\n            draftState.isLoading = false;\n            break;\n          }\n\n        case _constants.GET_USER_PERMISSIONS_SUCCEEDED:\n          {\n            draftState.isLoading = false;\n            draftState.userPermissions = action.data;\n            break;\n          }\n\n        case _constants.SET_APP_ERROR:\n          {\n            draftState.appError = true;\n            break;\n          }\n\n        default:\n          return state;\n      }\n    })\n  );\n};\n\nvar _default = reducer;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/webstorm_projects/redcat_backend/.cache/admin/src/containers/Admin/reducer.js"],"names":["packageVersion","packageJSON","version","initialState","appError","isLoading","latestStrapiReleaseTag","shouldUpdateStrapi","userPermissions","reducer","state","action","draftState","type","GET_STRAPI_LATEST_RELEASE_SUCCEEDED","GET_USER_PERMISSIONS","GET_USER_PERMISSIONS_ERROR","error","GET_USER_PERMISSIONS_SUCCEEDED","data","SET_APP_ERROR"],"mappings":";;;;;;;;;AAMA;;AACA;;AAEA;;AATA;AACA;AACA;AACA;AACA;AAaA,IAAMA,cAAc,GAAGC,oBAAYC,OAAnC;AACA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,QAAQ,EAAE,KADS;AAEnBC,EAAAA,SAAS,EAAE,IAFQ;AAGnBC,EAAAA,sBAAsB,aAAMN,cAAN,CAHH;AAInBO,EAAAA,kBAAkB,EAAE,KAJD;AAKnBC,EAAAA,eAAe,EAAE;AALE,CAArB;;;AAQA,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,MAACC,KAAD,uEAASP,YAAT;AAAA,MAAuBQ,MAAvB;AAAA,SACd;AACA,2BAAQD,KAAR,EAAe,UAAAE,UAAU,EAAI;AAC3B,cAAQD,MAAM,CAACE,IAAf;AACE,aAAKC,8CAAL;AAA0C;AACxCF,YAAAA,UAAU,CAACN,sBAAX,GAAoCK,MAAM,CAACL,sBAA3C;AACAM,YAAAA,UAAU,CAACL,kBAAX,GAAgCI,MAAM,CAACJ,kBAAvC;AACA;AACD;;AACD,aAAKQ,+BAAL;AAA2B;AACzBH,YAAAA,UAAU,CAACP,SAAX,GAAuB,IAAvB;AACA;AACD;;AAED,aAAKW,qCAAL;AAAiC;AAC/BJ,YAAAA,UAAU,CAACK,KAAX,GAAmBN,MAAM,CAACM,KAA1B;AACAL,YAAAA,UAAU,CAACP,SAAX,GAAuB,KAAvB;AACA;AACD;;AACD,aAAKa,yCAAL;AAAqC;AACnCN,YAAAA,UAAU,CAACP,SAAX,GAAuB,KAAvB;AACAO,YAAAA,UAAU,CAACJ,eAAX,GAA6BG,MAAM,CAACQ,IAApC;AACA;AACD;;AACD,aAAKC,wBAAL;AAAoB;AAClBR,YAAAA,UAAU,CAACR,QAAX,GAAsB,IAAtB;AACA;AACD;;AACD;AACE,iBAAOM,KAAP;AA1BJ;AA4BD,KA7BD;AAFc;AAAA,CAAhB;;eAiCeD,O","sourcesContent":["/*\n *\n * Admin reducer\n *\n */\n\nimport produce from 'immer';\nimport packageJSON from '../../../../package.json';\n\nimport {\n  GET_STRAPI_LATEST_RELEASE_SUCCEEDED,\n  GET_USER_PERMISSIONS,\n  GET_USER_PERMISSIONS_ERROR,\n  GET_USER_PERMISSIONS_SUCCEEDED,\n  SET_APP_ERROR,\n} from './constants';\n\nconst packageVersion = packageJSON.version;\nconst initialState = {\n  appError: false,\n  isLoading: true,\n  latestStrapiReleaseTag: `v${packageVersion}`,\n  shouldUpdateStrapi: false,\n  userPermissions: [],\n};\n\nconst reducer = (state = initialState, action) =>\n  // eslint-disable-next-line consistent-return\n  produce(state, draftState => {\n    switch (action.type) {\n      case GET_STRAPI_LATEST_RELEASE_SUCCEEDED: {\n        draftState.latestStrapiReleaseTag = action.latestStrapiReleaseTag;\n        draftState.shouldUpdateStrapi = action.shouldUpdateStrapi;\n        break;\n      }\n      case GET_USER_PERMISSIONS: {\n        draftState.isLoading = true;\n        break;\n      }\n\n      case GET_USER_PERMISSIONS_ERROR: {\n        draftState.error = action.error;\n        draftState.isLoading = false;\n        break;\n      }\n      case GET_USER_PERMISSIONS_SUCCEEDED: {\n        draftState.isLoading = false;\n        draftState.userPermissions = action.data;\n        break;\n      }\n      case SET_APP_ERROR: {\n        draftState.appError = true;\n        break;\n      }\n      default:\n        return state;\n    }\n  });\n\nexport default reducer;\nexport { initialState };\n"]},"metadata":{},"sourceType":"script"}