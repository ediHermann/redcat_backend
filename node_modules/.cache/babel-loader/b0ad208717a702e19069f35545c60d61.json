{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"react\");\n\nvar _useDataManager2 = _interopRequireDefault(require(\"../../../hooks/useDataManager\"));\n\nfunction useSelect(_ref) {\n  var isUserAllowedToEditField = _ref.isUserAllowedToEditField,\n      isUserAllowedToReadField = _ref.isUserAllowedToReadField,\n      name = _ref.name;\n\n  var _useDataManager = (0, _useDataManager2[\"default\"])(),\n      isCreatingEntry = _useDataManager.isCreatingEntry,\n      createActionAllowedFields = _useDataManager.createActionAllowedFields,\n      readActionAllowedFields = _useDataManager.readActionAllowedFields,\n      updateActionAllowedFields = _useDataManager.updateActionAllowedFields;\n\n  var isFieldAllowed = (0, _react.useMemo)(function () {\n    if (isUserAllowedToEditField === true) {\n      return true;\n    }\n\n    var allowedFields = isCreatingEntry ? createActionAllowedFields : updateActionAllowedFields;\n    return allowedFields.includes(name);\n  }, [isCreatingEntry, createActionAllowedFields, name, isUserAllowedToEditField, updateActionAllowedFields]);\n  var isFieldReadable = (0, _react.useMemo)(function () {\n    if (isUserAllowedToReadField) {\n      return true;\n    }\n\n    var allowedFields = isCreatingEntry ? [] : readActionAllowedFields;\n    return allowedFields.includes(name);\n  }, [isCreatingEntry, isUserAllowedToReadField, name, readActionAllowedFields]);\n  return {\n    isCreatingEntry: isCreatingEntry,\n    isFieldAllowed: isFieldAllowed,\n    isFieldReadable: isFieldReadable\n  };\n}\n\nvar _default = useSelect;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/webstorm_projects/redcat_backend/.cache/plugins/strapi-plugin-content-manager/admin/src/components/SelectWrapper/utils/select.js"],"names":["useSelect","isUserAllowedToEditField","isUserAllowedToReadField","name","isCreatingEntry","createActionAllowedFields","readActionAllowedFields","updateActionAllowedFields","isFieldAllowed","allowedFields","includes","isFieldReadable"],"mappings":";;;;;;;;;AAAA;;AACA;;AAEA,SAASA,SAAT,OAAiF;AAAA,MAA5DC,wBAA4D,QAA5DA,wBAA4D;AAAA,MAAlCC,wBAAkC,QAAlCA,wBAAkC;AAAA,MAARC,IAAQ,QAARA,IAAQ;;AAAA,wBAM3E,kCAN2E;AAAA,MAE7EC,eAF6E,mBAE7EA,eAF6E;AAAA,MAG7EC,yBAH6E,mBAG7EA,yBAH6E;AAAA,MAI7EC,uBAJ6E,mBAI7EA,uBAJ6E;AAAA,MAK7EC,yBAL6E,mBAK7EA,yBAL6E;;AAQ/E,MAAMC,cAAc,GAAG,oBAAQ,YAAM;AACnC,QAAIP,wBAAwB,KAAK,IAAjC,EAAuC;AACrC,aAAO,IAAP;AACD;;AAED,QAAMQ,aAAa,GAAGL,eAAe,GAAGC,yBAAH,GAA+BE,yBAApE;AAEA,WAAOE,aAAa,CAACC,QAAd,CAAuBP,IAAvB,CAAP;AACD,GARsB,EAQpB,CACDC,eADC,EAEDC,yBAFC,EAGDF,IAHC,EAIDF,wBAJC,EAKDM,yBALC,CARoB,CAAvB;AAgBA,MAAMI,eAAe,GAAG,oBAAQ,YAAM;AACpC,QAAIT,wBAAJ,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAED,QAAMO,aAAa,GAAGL,eAAe,GAAG,EAAH,GAAQE,uBAA7C;AAEA,WAAOG,aAAa,CAACC,QAAd,CAAuBP,IAAvB,CAAP;AACD,GARuB,EAQrB,CAACC,eAAD,EAAkBF,wBAAlB,EAA4CC,IAA5C,EAAkDG,uBAAlD,CARqB,CAAxB;AAUA,SAAO;AACLF,IAAAA,eAAe,EAAfA,eADK;AAELI,IAAAA,cAAc,EAAdA,cAFK;AAGLG,IAAAA,eAAe,EAAfA;AAHK,GAAP;AAKD;;eAEcX,S","sourcesContent":["import { useMemo } from 'react';\nimport useDataManager from '../../../hooks/useDataManager';\n\nfunction useSelect({ isUserAllowedToEditField, isUserAllowedToReadField, name }) {\n  const {\n    isCreatingEntry,\n    createActionAllowedFields,\n    readActionAllowedFields,\n    updateActionAllowedFields,\n  } = useDataManager();\n\n  const isFieldAllowed = useMemo(() => {\n    if (isUserAllowedToEditField === true) {\n      return true;\n    }\n\n    const allowedFields = isCreatingEntry ? createActionAllowedFields : updateActionAllowedFields;\n\n    return allowedFields.includes(name);\n  }, [\n    isCreatingEntry,\n    createActionAllowedFields,\n    name,\n    isUserAllowedToEditField,\n    updateActionAllowedFields,\n  ]);\n\n  const isFieldReadable = useMemo(() => {\n    if (isUserAllowedToReadField) {\n      return true;\n    }\n\n    const allowedFields = isCreatingEntry ? [] : readActionAllowedFields;\n\n    return allowedFields.includes(name);\n  }, [isCreatingEntry, isUserAllowedToReadField, name, readActionAllowedFields]);\n\n  return {\n    isCreatingEntry,\n    isFieldAllowed,\n    isFieldReadable,\n  };\n}\n\nexport default useSelect;\n"]},"metadata":{},"sourceType":"script"}