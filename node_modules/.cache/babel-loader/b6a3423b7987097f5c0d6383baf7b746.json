{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _react = require(\"react\");\n\nvar _lodash = require(\"lodash\");\n\nvar _useDataManager2 = _interopRequireDefault(require(\"../../../../hooks/useDataManager\"));\n\nfunction useSelect(_ref) {\n  var schema = _ref.schema,\n      componentFieldName = _ref.componentFieldName;\n\n  var _useDataManager = (0, _useDataManager2[\"default\"])(),\n      checkFormErrors = _useDataManager.checkFormErrors,\n      modifiedData = _useDataManager.modifiedData,\n      moveComponentField = _useDataManager.moveComponentField,\n      removeRepeatableField = _useDataManager.removeRepeatableField,\n      triggerFormValidation = _useDataManager.triggerFormValidation;\n\n  var mainField = (0, _react.useMemo)(function () {\n    return (0, _lodash.get)(schema, ['settings', 'mainField'], 'id');\n  }, [schema]);\n  var displayedValue = (0, _lodash.toString)((0, _lodash.get)(modifiedData, [].concat((0, _toConsumableArray2[\"default\"])(componentFieldName.split('.')), [mainField]), ''));\n  return {\n    displayedValue: displayedValue,\n    mainField: mainField,\n    checkFormErrors: checkFormErrors,\n    moveComponentField: moveComponentField,\n    removeRepeatableField: removeRepeatableField,\n    schema: schema,\n    triggerFormValidation: triggerFormValidation\n  };\n}\n\nvar _default = useSelect;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/webstorm_projects/redcat_backend/.cache/plugins/strapi-plugin-content-manager/admin/src/components/RepeatableComponent/DraggedItem/utils/select.js"],"names":["useSelect","schema","componentFieldName","checkFormErrors","modifiedData","moveComponentField","removeRepeatableField","triggerFormValidation","mainField","displayedValue","split"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA,SAASA,SAAT,OAAmD;AAAA,MAA9BC,MAA8B,QAA9BA,MAA8B;AAAA,MAAtBC,kBAAsB,QAAtBA,kBAAsB;;AAAA,wBAO7C,kCAP6C;AAAA,MAE/CC,eAF+C,mBAE/CA,eAF+C;AAAA,MAG/CC,YAH+C,mBAG/CA,YAH+C;AAAA,MAI/CC,kBAJ+C,mBAI/CA,kBAJ+C;AAAA,MAK/CC,qBAL+C,mBAK/CA,qBAL+C;AAAA,MAM/CC,qBAN+C,mBAM/CA,qBAN+C;;AASjD,MAAMC,SAAS,GAAG,oBAAQ;AAAA,WAAM,iBAAIP,MAAJ,EAAY,CAAC,UAAD,EAAa,WAAb,CAAZ,EAAuC,IAAvC,CAAN;AAAA,GAAR,EAA4D,CAACA,MAAD,CAA5D,CAAlB;AACA,MAAMQ,cAAc,GAAG,sBACrB,iBAAIL,YAAJ,gDAAsBF,kBAAkB,CAACQ,KAAnB,CAAyB,GAAzB,CAAtB,IAAqDF,SAArD,IAAiE,EAAjE,CADqB,CAAvB;AAIA,SAAO;AACLC,IAAAA,cAAc,EAAdA,cADK;AAELD,IAAAA,SAAS,EAATA,SAFK;AAGLL,IAAAA,eAAe,EAAfA,eAHK;AAILE,IAAAA,kBAAkB,EAAlBA,kBAJK;AAKLC,IAAAA,qBAAqB,EAArBA,qBALK;AAMLL,IAAAA,MAAM,EAANA,MANK;AAOLM,IAAAA,qBAAqB,EAArBA;AAPK,GAAP;AASD;;eAEcP,S","sourcesContent":["import { useMemo } from 'react';\nimport { get, toString } from 'lodash';\nimport useDataManager from '../../../../hooks/useDataManager';\n\nfunction useSelect({ schema, componentFieldName }) {\n  const {\n    checkFormErrors,\n    modifiedData,\n    moveComponentField,\n    removeRepeatableField,\n    triggerFormValidation,\n  } = useDataManager();\n\n  const mainField = useMemo(() => get(schema, ['settings', 'mainField'], 'id'), [schema]);\n  const displayedValue = toString(\n    get(modifiedData, [...componentFieldName.split('.'), mainField], '')\n  );\n\n  return {\n    displayedValue,\n    mainField,\n    checkFormErrors,\n    moveComponentField,\n    removeRepeatableField,\n    schema,\n    triggerFormValidation,\n  };\n}\n\nexport default useSelect;\n"]},"metadata":{},"sourceType":"script"}