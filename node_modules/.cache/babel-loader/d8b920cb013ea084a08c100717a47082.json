{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _lodash = require(\"lodash\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _reactFontawesome = require(\"@fortawesome/react-fontawesome\");\n\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\n\nvar _strapiHelperPlugin = require(\"strapi-helper-plugin\");\n\nvar _pluginId = _interopRequireDefault(require(\"../../pluginId\"));\n\nvar _ComponentInitializer = _interopRequireDefault(require(\"../ComponentInitializer\"));\n\nvar _NonRepeatableComponent = _interopRequireDefault(require(\"../NonRepeatableComponent\"));\n\nvar _RepeatableComponent = _interopRequireDefault(require(\"../RepeatableComponent\"));\n\nvar _connect = _interopRequireDefault(require(\"./utils/connect\"));\n\nvar _select = _interopRequireDefault(require(\"./utils/select\"));\n\nvar _ComponentIcon = _interopRequireDefault(require(\"./ComponentIcon\"));\n\nvar _Label = _interopRequireDefault(require(\"./Label\"));\n\nvar _ResetComponent = _interopRequireDefault(require(\"./ResetComponent\"));\n\nvar _Wrapper = _interopRequireDefault(require(\"./Wrapper\"));\n\n/* eslint-disable  import/no-cycle */\nvar FieldComponent = function FieldComponent(_ref) {\n  var componentFriendlyName = _ref.componentFriendlyName,\n      componentUid = _ref.componentUid,\n      icon = _ref.icon,\n      isCreatingEntry = _ref.isCreatingEntry,\n      isFromDynamicZone = _ref.isFromDynamicZone,\n      isRepeatable = _ref.isRepeatable,\n      isNested = _ref.isNested,\n      label = _ref.label,\n      max = _ref.max,\n      min = _ref.min,\n      name = _ref.name,\n      hasChildrenAllowedFields = _ref.hasChildrenAllowedFields,\n      hasChildrenReadableFields = _ref.hasChildrenReadableFields,\n      isReadOnly = _ref.isReadOnly,\n      componentValue = _ref.componentValue,\n      removeComponentFromField = _ref.removeComponentFromField;\n  var componentValueLength = (0, _lodash.size)(componentValue);\n  var isInitialized = componentValue !== null || isFromDynamicZone;\n  var showResetComponent = !isRepeatable && isInitialized && !isFromDynamicZone && hasChildrenAllowedFields;\n\n  if (!hasChildrenAllowedFields && isCreatingEntry) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-12\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.NotAllowedInput, {\n      label: label\n    }));\n  }\n\n  if (!hasChildrenAllowedFields && !isCreatingEntry && !hasChildrenReadableFields) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"col-12\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_strapiHelperPlugin.NotAllowedInput, {\n      label: label\n    }));\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(_Wrapper[\"default\"], {\n    className: \"col-12\",\n    isFromDynamicZone: isFromDynamicZone\n  }, isFromDynamicZone && /*#__PURE__*/_react[\"default\"].createElement(_ComponentIcon[\"default\"], {\n    title: componentFriendlyName\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"component_name\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    className: \"component_icon\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactFontawesome.FontAwesomeIcon, {\n    icon: icon,\n    title: componentFriendlyName\n  })), /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, componentFriendlyName))), /*#__PURE__*/_react[\"default\"].createElement(_Label[\"default\"], null, label, \"\\xA0\", isRepeatable && \"(\".concat(componentValueLength, \")\")), showResetComponent && /*#__PURE__*/_react[\"default\"].createElement(_ResetComponent[\"default\"], {\n    onClick: function onClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      removeComponentFromField(name, componentUid);\n    }\n  }, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n    id: \"\".concat(_pluginId[\"default\"], \".components.reset-entry\")\n  }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", null)), !isRepeatable && !isInitialized && /*#__PURE__*/_react[\"default\"].createElement(_ComponentInitializer[\"default\"], {\n    componentUid: componentUid,\n    name: name,\n    isReadOnly: isReadOnly\n  }), !isRepeatable && isInitialized && /*#__PURE__*/_react[\"default\"].createElement(_NonRepeatableComponent[\"default\"], {\n    componentUid: componentUid,\n    isFromDynamicZone: isFromDynamicZone,\n    name: name\n  }), isRepeatable && /*#__PURE__*/_react[\"default\"].createElement(_RepeatableComponent[\"default\"], {\n    componentValue: componentValue,\n    componentValueLength: componentValueLength,\n    componentUid: componentUid,\n    isNested: isNested,\n    isReadOnly: isReadOnly,\n    max: max,\n    min: min,\n    name: name\n  }));\n};\n\nFieldComponent.defaultProps = {\n  componentValue: null,\n  componentFriendlyName: null,\n  hasChildrenAllowedFields: false,\n  hasChildrenReadableFields: false,\n  icon: 'smile',\n  isFromDynamicZone: false,\n  isReadOnly: false,\n  isRepeatable: false,\n  isNested: false,\n  max: Infinity,\n  min: -Infinity\n};\nFieldComponent.propTypes = {\n  componentFriendlyName: _propTypes[\"default\"].string,\n  componentUid: _propTypes[\"default\"].string.isRequired,\n  componentValue: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].object, _propTypes[\"default\"].array]),\n  hasChildrenAllowedFields: _propTypes[\"default\"].bool,\n  hasChildrenReadableFields: _propTypes[\"default\"].bool,\n  icon: _propTypes[\"default\"].string,\n  isCreatingEntry: _propTypes[\"default\"].bool.isRequired,\n  isFromDynamicZone: _propTypes[\"default\"].bool,\n  isReadOnly: _propTypes[\"default\"].bool,\n  isRepeatable: _propTypes[\"default\"].bool,\n  isNested: _propTypes[\"default\"].bool,\n  label: _propTypes[\"default\"].string.isRequired,\n  max: _propTypes[\"default\"].number,\n  min: _propTypes[\"default\"].number,\n  name: _propTypes[\"default\"].string.isRequired,\n  removeComponentFromField: _propTypes[\"default\"].func.isRequired\n};\nvar Memoized = /*#__PURE__*/(0, _react.memo)(FieldComponent, _reactFastCompare[\"default\"]);\n\nvar _default = (0, _connect[\"default\"])(Memoized, _select[\"default\"]);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["D:/webstorm_projects/redcat_backend/.cache/plugins/strapi-plugin-content-manager/admin/src/components/FieldComponent/index.js"],"names":["FieldComponent","componentFriendlyName","componentUid","icon","isCreatingEntry","isFromDynamicZone","isRepeatable","isNested","label","max","min","name","hasChildrenAllowedFields","hasChildrenReadableFields","isReadOnly","componentValue","removeComponentFromField","componentValueLength","isInitialized","showResetComponent","e","preventDefault","stopPropagation","pluginId","defaultProps","Infinity","propTypes","PropTypes","string","isRequired","oneOfType","object","array","bool","number","func","Memoized","isEqual","select"],"mappings":"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","sourcesContent":["/* eslint-disable  import/no-cycle */\nimport React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport { size } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport isEqual from 'react-fast-compare';\nimport { NotAllowedInput } from 'strapi-helper-plugin';\nimport pluginId from '../../pluginId';\nimport ComponentInitializer from '../ComponentInitializer';\nimport NonRepeatableComponent from '../NonRepeatableComponent';\nimport RepeatableComponent from '../RepeatableComponent';\nimport connect from './utils/connect';\nimport select from './utils/select';\nimport ComponentIcon from './ComponentIcon';\nimport Label from './Label';\nimport Reset from './ResetComponent';\nimport Wrapper from './Wrapper';\n\nconst FieldComponent = ({\n  componentFriendlyName,\n  componentUid,\n  icon,\n  isCreatingEntry,\n  isFromDynamicZone,\n  isRepeatable,\n  isNested,\n  label,\n  max,\n  min,\n  name,\n  // Passed thanks to the connect function\n  hasChildrenAllowedFields,\n  hasChildrenReadableFields,\n  isReadOnly,\n  componentValue,\n  removeComponentFromField,\n}) => {\n  const componentValueLength = size(componentValue);\n  const isInitialized = componentValue !== null || isFromDynamicZone;\n  const showResetComponent =\n    !isRepeatable && isInitialized && !isFromDynamicZone && hasChildrenAllowedFields;\n\n  if (!hasChildrenAllowedFields && isCreatingEntry) {\n    return (\n      <div className=\"col-12\">\n        <NotAllowedInput label={label} />\n      </div>\n    );\n  }\n\n  if (!hasChildrenAllowedFields && !isCreatingEntry && !hasChildrenReadableFields) {\n    return (\n      <div className=\"col-12\">\n        <NotAllowedInput label={label} />\n      </div>\n    );\n  }\n\n  return (\n    <Wrapper className=\"col-12\" isFromDynamicZone={isFromDynamicZone}>\n      {isFromDynamicZone && (\n        <ComponentIcon title={componentFriendlyName}>\n          <div className=\"component_name\">\n            <div className=\"component_icon\">\n              <FontAwesomeIcon icon={icon} title={componentFriendlyName} />\n            </div>\n            <p>{componentFriendlyName}</p>\n          </div>\n        </ComponentIcon>\n      )}\n      <Label>\n        {label}&nbsp;\n        {isRepeatable && `(${componentValueLength})`}\n      </Label>\n      {showResetComponent && (\n        <Reset\n          onClick={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            removeComponentFromField(name, componentUid);\n          }}\n        >\n          <FormattedMessage id={`${pluginId}.components.reset-entry`} />\n          <div />\n        </Reset>\n      )}\n      {!isRepeatable && !isInitialized && (\n        <ComponentInitializer componentUid={componentUid} name={name} isReadOnly={isReadOnly} />\n      )}\n\n      {!isRepeatable && isInitialized && (\n        <NonRepeatableComponent\n          componentUid={componentUid}\n          isFromDynamicZone={isFromDynamicZone}\n          name={name}\n        />\n      )}\n      {isRepeatable && (\n        <RepeatableComponent\n          componentValue={componentValue}\n          componentValueLength={componentValueLength}\n          componentUid={componentUid}\n          isNested={isNested}\n          isReadOnly={isReadOnly}\n          max={max}\n          min={min}\n          name={name}\n        />\n      )}\n    </Wrapper>\n  );\n};\n\nFieldComponent.defaultProps = {\n  componentValue: null,\n  componentFriendlyName: null,\n  hasChildrenAllowedFields: false,\n  hasChildrenReadableFields: false,\n  icon: 'smile',\n  isFromDynamicZone: false,\n  isReadOnly: false,\n  isRepeatable: false,\n  isNested: false,\n  max: Infinity,\n  min: -Infinity,\n};\n\nFieldComponent.propTypes = {\n  componentFriendlyName: PropTypes.string,\n  componentUid: PropTypes.string.isRequired,\n  componentValue: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  hasChildrenAllowedFields: PropTypes.bool,\n  hasChildrenReadableFields: PropTypes.bool,\n  icon: PropTypes.string,\n  isCreatingEntry: PropTypes.bool.isRequired,\n  isFromDynamicZone: PropTypes.bool,\n  isReadOnly: PropTypes.bool,\n  isRepeatable: PropTypes.bool,\n  isNested: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  name: PropTypes.string.isRequired,\n  removeComponentFromField: PropTypes.func.isRequired,\n};\n\nconst Memoized = memo(FieldComponent, isEqual);\n\nexport default connect(Memoized, select);\n"]},"metadata":{},"sourceType":"script"}